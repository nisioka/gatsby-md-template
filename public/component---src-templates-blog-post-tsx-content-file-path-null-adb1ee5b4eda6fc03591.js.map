{"version":3,"file":"component---src-templates-blog-post-tsx-content-file-path-null-adb1ee5b4eda6fc03591.js","mappings":"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","sources":["webpack://gatsby-starter-blog/./src/templates/blog-post.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport Seo from \"../components/seo\"\nimport { GatsbyImage, getImage } from \"gatsby-plugin-image\"\nimport styled from \"styled-components\"\nimport { convertCategory, mergePost, removeHtmlTags } from \"../utilFunction\"\nimport RelatedList from \"../components/related-list\"\nimport { Prism as SyntaxHighlighter } from \"react-syntax-highlighter\"\nimport parse, { domToReact } from \"html-react-parser\"\nimport { ghcolors } from \"react-syntax-highlighter/dist/cjs/styles/prism\"\nimport { Disqus } from 'gatsby-plugin-disqus';\n\ntype BlogPostTemplateProps = {\n  data: {\n    allFile: AllFile\n    markdownRemark: MdPost\n    mdPrevious: {\n      id: string\n      fields: {\n        slug: string\n      }\n      frontmatter: {\n        title: string\n        category: string\n      }\n    }\n    mdNext: {\n      id: string\n      fields: {\n        slug: string\n      }\n      frontmatter: {\n        title: string\n        category: string\n      }\n    }\n    wpPost: WpPost\n    wpPrevious: {\n      id: string\n      title: string\n      slug: string\n      categories: {\n        nodes: {\n          name: string\n        }[]\n      }\n    }\n    wpNext: {\n      id: string\n      title: string\n      slug: string\n      categories: {\n        nodes: {\n          name: string\n        }[]\n      }\n    }\n  }\n  location: Location\n}\n\nconst BlogPostTemplate = ({\n  data: {\n    allFile,\n    markdownRemark: md,\n    mdPrevious,\n    mdNext,\n    wpPost,\n    wpPrevious,\n    wpNext,\n  },\n  location,\n}: BlogPostTemplateProps) => {\n  const post = {\n    id: md?.id || wpPost?.id,\n    title: md?.frontmatter.title || wpPost?.title,\n    content: md?.html || wpPost?.content,\n    excerpt: removeHtmlTags(md?.excerpt || wpPost?.excerpt),\n    slug:\n      md?.fields.slug.replace(/^\\//, \"\").replace(/\\/$/, \"\") ||\n      \"/\" + wpPost?.slug,\n    date: md?.frontmatter.date || wpPost?.date,\n    dateModified: md?.frontmatter.dateModified || wpPost?.modified,\n    description: md?.frontmatter.description,\n    altText: wpPost?.featuredImage?.node.altText || \"\",\n    gatsbyImage:\n      wpPost?.featuredImage?.node.gatsbyImage ||\n      getImage(allFile.edges[0]?.node.childImageSharp),\n    category: md?.frontmatter.category || wpPost?.categories?.nodes[0]?.name,\n    tags: md?.frontmatter.tags || wpPost?.tags?.nodes.map(t => t.name),\n  }\n  const previous = {\n    id: mdPrevious?.id || wpPrevious?.id,\n    title: mdPrevious?.frontmatter.title || wpPrevious?.title,\n    slug:\n      mdPrevious?.fields.slug.replace(/^\\//, \"\").replace(/\\/$/, \"\") ||\n      wpPrevious?.slug,\n    category:\n      mdPrevious?.frontmatter.category || wpPrevious?.categories.nodes[0].name,\n  }\n  const next = {\n    id: mdNext?.id || wpNext?.id,\n    title: mdNext?.frontmatter.title || wpNext?.title,\n    slug:\n      mdNext?.fields.slug.replace(/^\\//, \"\").replace(/\\/$/, \"\") || wpNext?.slug,\n    category:\n      mdNext?.frontmatter.category || wpNext?.categories?.nodes[0]?.name,\n  }\n\n  return (\n    <Layout location={location}>\n      <Article\n        className=\"blog-post\"\n        itemScope\n        itemType=\"http://schema.org/Article\"\n      >\n        <header>\n          <h1 itemProp=\"headline\">{post.title}</h1>\n          <p>\n            <div className=\"time\">\n              <small>\n                <time>{post.date}</time>\n              </small>\n            </div>\n          </p>\n        </header>\n        <div className=\"featuredImage\">\n          <GatsbyImage image={post.gatsbyImage} alt={post.title} />\n        </div>\n        <Dl>\n          <dt>カテゴリ</dt>\n          <dd>\n            <Link to={`/category/${convertCategory(post.category)}`}>\n              {post.category}\n            </Link>\n          </dd>\n        </Dl>\n        <Dl>\n          <dt>タグ</dt>\n          {post.tags.map((tag, index) => {\n            return (\n              <dd key={`tag${index}`}>\n                <Link to={`/tag/${tag}/`}>{tag}</Link>\n              </dd>\n            )\n          })}\n        </Dl>\n\n        <BlogEntry>\n          <section itemProp=\"articleBody\">\n            {parse(post.content, { replace: replaceCode })}\n          </section>\n        </BlogEntry>\n        <hr />\n      </Article>\n      <BlogPostNav className=\"blog-post-nav\">\n        <ul\n          style={{\n            display: `flex`,\n            flexWrap: `wrap`,\n            justifyContent: `space-between`,\n            listStyle: `none`,\n            padding: 0,\n          }}\n        >\n          <li>\n            {previous.slug && (\n              <Link\n                to={`/${convertCategory(previous.category)}/${previous.slug}`}\n                rel=\"prev\"\n              >\n                ← {previous.title}\n              </Link>\n            )}\n          </li>\n          <li>\n            {next.slug && (\n              <Link\n                to={`/${convertCategory(next.category)}/${next.slug}`}\n                rel=\"next\"\n              >\n                {next.title} →\n              </Link>\n            )}\n          </li>\n        </ul>\n      </BlogPostNav>\n\n      <Disqus config={{\n        url: `/${convertCategory(next.category)}/${next.slug}`,\n        identifier: `/${convertCategory(next.category)}/${next.slug}`,\n        title: post.title\n      }} />\n      <RelatedList slug={post.slug} category={post.category} tags={post.tags} />\n    </Layout>\n  )\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug(\n    $id: String!\n    $previousPostId: String\n    $nextPostId: String\n    $imagePath: String\n  ) {\n    allFile(\n      filter: {\n        relativePath: { eq: $imagePath }\n        sourceInstanceName: { eq: \"images\" }\n      }\n    ) {\n      edges {\n        node {\n          childImageSharp {\n            gatsbyImageData(\n              height: 320\n              formats: [AUTO, WEBP, AVIF]\n              placeholder: BLURRED\n            )\n          }\n        }\n      }\n    }\n    markdownRemark(id: { eq: $id }) {\n      id\n      excerpt\n      html\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n        date(formatString: \"YYYY/MM/DD\")\n        dateModified(formatString: \"YYYY/MM/DD\")\n        description\n        category\n        tags\n      }\n    }\n    mdPrevious: markdownRemark(id: { eq: $previousPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n        category\n      }\n    }\n    mdNext: markdownRemark(id: { eq: $nextPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n        category\n      }\n    }\n    wpPost(id: { eq: $id }) {\n      id\n      title\n      content\n      excerpt\n      slug\n      date(formatString: \"YYYY/MM/DD\")\n      modified(formatString: \"YYYY/MM/DD\")\n      featuredImage {\n        node {\n          altText\n          gatsbyImage(height: 320)\n        }\n      }\n      categories {\n        nodes {\n          name\n        }\n      }\n      tags {\n        nodes {\n          name\n        }\n      }\n    }\n    wpPrevious: wpPost(id: { eq: $previousPostId }) {\n      title\n      slug\n      categories {\n        nodes {\n          name\n        }\n      }\n    }\n    wpNext: wpPost(id: { eq: $nextPostId }) {\n      title\n      slug\n      categories {\n        nodes {\n          name\n        }\n      }\n    }\n  }\n`\n\nexport const Head = ({\n  data: { allFile, markdownRemark, wpPost },\n  location,\n}: BlogPostTemplateProps) => {\n  const post = mergePost(markdownRemark, wpPost, allFile)\n  return (\n    <Seo\n      title={post.title}\n      description={post.excerpt}\n      location={location}\n      imagePath={\n        post.gatsbyImage ? post.gatsbyImage.images.fallback?.src : null\n      }\n      post={post}\n    />\n  )\n}\n\nconst replaceCode = (node: any) => {\n  if (!node) return node\n  if (node.name === \"pre\") {\n    const dom = domToReact(getCode(node))\n    let result = \"\"\n    switch (typeof dom) {\n      case \"string\":\n        result = dom as string\n        break\n      case \"object\":\n        if (Array.isArray(dom)) {\n          // React.JSX.Element[]\n          const elmArr = dom as React.JSX.Element[]\n          elmArr.map(elm => {\n            if (elm.props && elm.props.children) {\n              result += elm.props.children as string\n            }\n          })\n        } else {\n          // React.JSX.Element\n          const elm = dom as React.JSX.Element\n          if (elm.props && elm.props.children) {\n            result = elm.props.children as string\n          }\n        }\n        break\n    }\n\n    return (\n      node.children.length > 0 && (\n        <SyntaxHighlight language={getLanguage(node)}>{result}</SyntaxHighlight>\n      )\n    )\n  }\n}\n\nconst SyntaxHighlight = ({\n  language,\n  children,\n}: {\n  language: string\n  children: string\n}) => (\n  <SyntaxHighlighter\n    style={ghcolors}\n    language={language}\n    showLineNumbers={true}\n  >\n    {children}\n  </SyntaxHighlighter>\n)\n\nconst getLanguage = (node: any) => {\n  if (node.attribs.class && node.attribs.class !== \"wp-block-code\") {\n    return (node.attribs.class as string).replace(\"language-\", \"\")\n  } else if (node.children[0]?.attribs?.class) {\n    return (node.children[0].attribs.class as string).replace(\"language-\", \"\")\n  }\n  return \"java\" // default\n}\n\nconst getCode = (node: any) => {\n  if (node.children.length > 0 && node.children[0].name === \"code\") {\n    return node.children[0].children\n  } else {\n    return node.children\n  }\n}\n\nconst Article = styled.article`\n  margin: 0 auto;\n  background-color: #fff;\n\n  .time {\n    text-align: right;\n  }\n\n  .featuredImage {\n    text-align: center;\n  }\n`\nconst BlogEntry = styled.div`\n  margin: 15px 0 30px;\n  border-top: 1px solid #ccc;\n  border-bottom: 1px solid #ccc;\n`\nconst BlogPostNav = styled.nav`\n  margin: 0 auto;\n\n  ul {\n    display: flex;\n    justify-content: space-between;\n    list-style: none;\n  }\n`\nconst Dl = styled.dl`\n  display: flex;\n  margin: 0;\n\n  dt {\n    width: 80px;\n    font-weight: 700;\n  }\n\n  dd {\n    font-size: 14px;\n    margin-left: 0;\n    padding-left: 0;\n\n    & + dd {\n      margin-left: 15px;\n      margin-bottom: 5px;\n    }\n\n    a {\n      text-decoration: none;\n      border-radius: 3px;\n      color: #fff;\n      background: var(--orange);\n      padding: 2px 5px;\n\n      &:hover {\n        opacity: 0.5;\n      }\n    }\n  }\n`\n"],"names":["_ref","_wpPost$featuredImage","_wpPost$featuredImage2","_allFile$edges$","_wpPost$categories","_wpPost$categories$no","_wpPost$tags","_wpNext$categories","_wpNext$categories$no","data","allFile","markdownRemark","md","mdPrevious","mdNext","wpPost","wpPrevious","wpNext","location","post","id","title","frontmatter","content","html","excerpt","removeHtmlTags","slug","fields","replace","date","dateModified","modified","description","altText","featuredImage","node","gatsbyImage","getImage","edges","childImageSharp","category","categories","nodes","name","tags","map","t","previous","next","React","Layout","Article","className","itemScope","itemType","itemProp","GatsbyImage","image","alt","Dl","Link","to","convertCategory","tag","index","key","BlogEntry","parse","replaceCode","BlogPostNav","style","display","flexWrap","justifyContent","listStyle","padding","rel","Disqus","config","url","identifier","RelatedList","Head","_ref2","_post$gatsbyImage$ima","mergePost","Seo","imagePath","images","fallback","src","dom","domToReact","getCode","result","Array","isArray","elm","props","children","length","SyntaxHighlight","language","getLanguage","_ref3","SyntaxHighlighter","ghcolors","showLineNumbers","_node$children$","_node$children$$attri","attribs","class","styled","article","div","nav","dl"],"sourceRoot":""}